---
phase: 02-dashboard-source
plan: 01
type: execute
---

<objective>
Create the SourceBadge component and update the project table with a source column and source filter.

Purpose: Users need to see at a glance which projects are local-only, remote-only, or synced — and filter by source type to focus on what matters.
Output: New SourceBadge component, updated ProjectTable with source column and filter.
</objective>

<execution_context>
@~/.claude/skills/create-plans/workflows/execute-phase.md
@~/.claude/skills/create-plans/templates/summary.md
</execution_context>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@.planning/phases/01-scanner-source/01-02-SUMMARY.md
@scanner/types.ts
@src/components/StatusBadge.tsx
@src/components/ProjectTable.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SourceBadge component</name>
  <files>src/components/SourceBadge.tsx</files>
  <action>
  Create a `SourceBadge` component that displays the project source type with distinct visual treatment, following the same pattern as StatusBadge.tsx.

  Props: `{ source: ProjectSource }` (import ProjectSource from scanner/types).

  Visual design per source type:
  - `local-only`: folder icon (inline SVG) + "Local" text, slate/gray color scheme (bg-slate-100, text-slate-600)
  - `remote-only`: cloud icon (inline SVG) + "Remote" text, sky/blue color scheme (bg-sky-100, text-sky-600)
  - `synced`: sync/arrows icon (inline SVG) + "Synced" text, emerald/green color scheme (bg-emerald-100, text-emerald-600)

  Use small inline SVGs (16x16) — don't add an icon library. Keep it consistent with StatusBadge's sizing (text-xs, small pills with rounded background).

  Component should be a pill shape: `inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium`.
  </action>
  <verify>npm run build — no TypeScript errors in the new component</verify>
  <done>SourceBadge renders correctly for all three source types with distinct colors and icons</done>
</task>

<task type="auto">
  <name>Task 2: Add source column and source filter to ProjectTable</name>
  <files>src/components/ProjectTable.tsx</files>
  <action>
  Update ProjectTable to show and filter by source:

  1. Import `SourceBadge` and `ProjectSource` from the appropriate locations.

  2. Add a new state: `const [sourceFilter, setSourceFilter] = useState<ProjectSource | 'all'>('all');`

  3. Add a source filter dropdown next to the existing status filter:
     ```
     <select ...>
       <option value="all">All sources</option>
       <option value="local-only">Local only</option>
       <option value="remote-only">Remote only</option>
       <option value="synced">Synced</option>
     </select>
     ```
     Use the same styling as the existing status filter select.

  4. Update the `filtered` useMemo to also apply source filtering:
     ```
     if (sourceFilter !== 'all') {
       result = result.filter((p) => p.source === sourceFilter);
     }
     ```
     Add `sourceFilter` to the dependency array.

  5. Add a "Source" column to the table between "Name" and "Status":
     - Header: `<th className="px-3 py-2">Source</th>` (not sortable for now)
     - Cell: `<td className="px-3 py-2"><SourceBadge source={project.source} /></td>`

  6. Update the colSpan in the "No projects found" empty state row from 6 to 7.
  </action>
  <verify>npm run build — no errors. Dev server shows the new Source column and filter dropdown.</verify>
  <done>ProjectTable shows Source column with SourceBadge for every row, source filter dropdown works correctly, all existing functionality preserved</done>
</task>

</tasks>

<verification>
Before declaring this plan complete:
- [ ] `npm run build` succeeds
- [ ] SourceBadge renders all three variants
- [ ] ProjectTable shows source column
- [ ] Source filter filters correctly
- [ ] Existing status filter and search still work
</verification>

<success_criteria>
- SourceBadge component created with distinct visuals per source type
- ProjectTable has source column and source filter
- No regressions in existing table functionality
</success_criteria>

<output>
After completion, create `.planning/phases/02-dashboard-source/02-01-SUMMARY.md`
</output>
